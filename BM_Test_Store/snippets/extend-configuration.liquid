<!-- Extend - Add necessary SDK script tags and configure the store -->
<script src='https://sdk.helloextend.com/extend-sdk-client/v1/extend-sdk-client.min.js' defer='defer'></script>
<script src='https://sdk.helloextend.com/extend-sdk-client-shopify-addon/v1/extend-sdk-client-shopify-addon.min.js' defer='defer'></script>

<script>
    window.addEventListener('DOMContentLoaded', function(){
        window.Extend.config({storeId: '47f2b30f-4660-4611-929b-7f4954443edc', environment: 'production'});
        window.Extend.integration = {};

        // Extend - Analytics and writeLogs boolean
        window.Extend.integration.analytics = true;
        window.Extend.integration.writeLogs = false;

        // Extend - QA Cypress booleans
        window.Extend.integration.isExtendPdpOfferEnabled = true;
        window.Extend.integration.isExtendOfferModalEnabled = true;
        window.Extend.integration.isExtendMainCartOfferEnabled = true;

    	// Extend - QA Cypress SP booleans
    	window.Extend.integration.isShippingProtectionEnabled = false;
    	window.Extend.integration.isSpCheckOutExt = false;
    	window.Extend.integration.isShippingProtectionOptOut = true;
    	window.Extend.integration.isShippingProtectionOnMainCart = false;

        // Only defines utils if Extend and ExtendShopify is defined
        if (window.Extend && window.ExtendShopify) {
            const extendUtils = {

                /*
                * takes in object and logs it if writeLogs is true
                * @param {object} objToLog will be an object of information to log
                */
                logger: (objToLog) => {
                    try {
                        if(Extend.integration.writeLogs){
                            console.log("EXTEND: ", objToLog);
                        }
                    } catch (error) {
                        console.warn("EXTEND: " + error);
                    }
                }
            };
            window.Extend.integration.utils = extendUtils;
        }
    })
</script>

<!-- Extend - Render aftermarket integration snippet -->
{% render 'extend-aftermarket-integration' %}
<!-- Extend - Render analytics -->
{% render 'extend-analytics' %}
<!-- Extend -- Load product integration script -->
{% render 'extend-product-integration' %}
<!-- Extend -- Load side cart integration script -->
{% render 'extend-side-cart-integration' %}
<!-- Extend -- Load cart integration script -->
{% render 'extend-cart-integration' %}
